(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{77916:function(e,a,t){Promise.resolve().then(t.bind(t,89662))},76858:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(43664).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},15001:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(43664).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},83774:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(43664).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99376:function(e,a,t){"use strict";var r=t(35475);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},89662:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Y}});var r=t(57437),s=t(2265),n=t(21840),o=t(48614),i=t(79820),l=t(12381),d=t(76858),c=t(15001),u=t(83774),m=t(30401),p=t(43664);let f=(0,p.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),x=(0,p.Z)("BookCopy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h11V6H11a2 2 0 0 0-2 2v12",key:"1owzki"}]]),h=(0,p.Z)("Goal",[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29",key:"1c0wjv"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02",key:"gb1g7m"}]]);var y=t(99376),g=t(28145),N=t(12749),j=t(8151),b=t(24156),k=t(14438);let w=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],v={Central:{SSC:["CGL","CHSL","MTS","GD"],Railway:["NTPC","Group D","ALP"],Banking:["IBPS PO","IBPS Clerk","SBI PO"]},State:{JSSC:["CGL","Excise Constable","Stenographer"],JPSC:["Civil Services","Assistant Engineer"],BSSC:["Inter Level","CGL"]}},C=e=>{let{title:a,description:t,children:s,icon:o}=e;return(0,r.jsx)(n.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5,ease:"easeInOut"},className:"w-full",children:(0,r.jsxs)(i.Zb,{className:"glass card-3d",children:[(0,r.jsxs)(i.Ol,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto bg-primary/10 p-3 rounded-full mb-2",children:(0,r.jsx)(o,{className:"h-8 w-8 text-primary"})}),(0,r.jsx)(i.ll,{children:a}),(0,r.jsx)(i.SZ,{children:t})]}),(0,r.jsx)(i.aY,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s})]})})},S=e=>{let{label:a,onClick:t}=e;return(0,r.jsxs)(l.z,{variant:"outline",className:"h-20 text-base justify-between",onClick:t,children:[a,(0,r.jsx)(d.Z,{className:"h-5 w-5 text-primary"})]})};function Y(){let[e,a]=(0,s.useState)("state"),[t,i]=(0,s.useState)({state:"",category:"",subCategory:"",exam:""}),[d,p]=(0,s.useState)(!1),[Y,R]=(0,s.useState)(!1),{user:Z,loading:M}=(0,g.a)(),z=(0,y.useRouter)();if(M)return(0,r.jsx)("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:(0,r.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-primary"})});if(!Z)return z.push("/auth"),null;let P=e=>{i({...t,state:e}),a("category"),R(!1)},E=e=>{i({...t,category:e}),a("subCategory")},L=e=>{i({...t,subCategory:e}),a("exam")},O=async e=>{p(!0);let a={...t,exam:e},r="Target: ".concat(a.subCategory," ").concat(a.exam),s={userId:Z.uid,homeState:a.state,targetExamCategory:a.category,targetExamSubCategory:a.subCategory,targetExam:a.exam,goalTrackerText:r};try{let e=await fetch("/api/user-exam-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok){let a=await e.json();throw Error(a.details||"Failed to save profile")}k.Am.success("Your profile is set! Welcome to your personalized dashboard."),z.push("/dashboard")}catch(a){console.error("Failed to save profile:",a);let e=a instanceof Error?a.message:"Could not save your preferences. Please try again.";k.Am.error(e),p(!1)}};return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,r.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)(n.E.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl font-bold tracking-tight",children:["Welcome to ",(0,r.jsx)("span",{className:"text-primary",children:"SoniLearn"})]}),(0,r.jsx)(n.E.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-muted-foreground mt-2",children:"Let's set up your personalized learning path. It only takes a minute!"})]}),(0,r.jsx)(o.M,{mode:"wait",children:(()=>{switch(e){case"state":return(0,r.jsx)(C,{title:"Select Your State",description:"This helps us personalize content and rankings for you.",icon:u.Z,children:(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsxs)(N.J2,{open:Y,onOpenChange:R,children:[(0,r.jsx)(N.xo,{asChild:!0,children:(0,r.jsxs)(l.z,{variant:"outline",role:"combobox","aria-expanded":Y,className:"w-full justify-between h-14 text-base",children:[t.state||"Select your state...",(0,r.jsx)(b.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,r.jsx)(N.yk,{className:"w-[--radix-popover-trigger-width] max-h-[--radix-popover-content-available-height] p-0",children:(0,r.jsxs)(j.mY,{children:[(0,r.jsx)(j.sZ,{placeholder:"Search state..."}),(0,r.jsxs)(j.e8,{children:[(0,r.jsx)(j.rb,{children:"No state found."}),(0,r.jsx)(j.fu,{children:w.map(e=>(0,r.jsxs)(j.di,{value:e,onSelect:e=>{let a=w.find(a=>a.toLowerCase()===e.toLowerCase());a&&P(a)},children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4 ".concat(t.state===e?"opacity-100":"opacity-0")}),e]},e))})]})]})})]})})});case"category":return(0,r.jsx)(C,{title:"Select Exam Category",description:"Choose the type of exam you are preparing for.",icon:f,children:Object.keys(v).map(e=>(0,r.jsx)(S,{label:e,onClick:()=>E(e)},e))});case"subCategory":let a=t.category?Object.keys(v[t.category]):[];return(0,r.jsx)(C,{title:"Select Sub-Category",description:"You chose '".concat(t.category,"'. Now, select the governing body."),icon:x,children:a.map(e=>(0,r.jsx)(S,{label:e,onClick:()=>L(e)},e))});case"exam":let s=v[t.category];if(!s)return null;let n=s[t.subCategory];if(!n)return null;return(0,r.jsx)(C,{title:"Select Your Target Exam",description:"You chose '".concat(t.subCategory,"'. Finally, select your specific exam."),icon:h,children:n.map(e=>(0,r.jsx)(l.z,{variant:"outline",className:"h-20 text-base",onClick:()=>O(e),disabled:d,children:d&&t.exam===e?(0,r.jsx)(c.Z,{className:"animate-spin"}):e},e))});default:return null}})()}),(0,r.jsx)("button",{onClick:()=>a("state"),className:"text-sm text-muted-foreground mt-4 hover:text-primary transition-opacity ".concat("state"===e?"opacity-0":"opacity-100"),children:"â† Go Back"})]})})}},79820:function(e,a,t){"use strict";t.d(a,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},ll:function(){return l}});var r=t(57437),s=t(2265),n=t(93448);let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});o.displayName="Card";let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:a,className:(0,n.cn)("text-xl font-semibold leading-none tracking-tight",t),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},8151:function(e,a,t){"use strict";t.d(a,{mY:function(){return m},rb:function(){return x},fu:function(){return h},sZ:function(){return p},di:function(){return y},e8:function(){return f}});var r=t(57437),s=t(2265),n=t(46343),o=t(73247),i=t(93448),l=t(70001),d=t(32489);l.fC,l.xz;let c=l.h_;l.x8;let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});u.displayName=l.aV.displayName,s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(l.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,(0,r.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}).displayName=l.VY.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})}).displayName=l.Dx.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})}).displayName=l.dk.displayName;let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.mY,{ref:a,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s})});m.displayName=n.mY.displayName;let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(o.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(n.mY.Input,{ref:a,className:(0,i.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})});p.displayName=n.mY.Input.displayName;let f=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.mY.List,{ref:a,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s})});f.displayName=n.mY.List.displayName;let x=s.forwardRef((e,a)=>(0,r.jsx)(n.mY.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));x.displayName=n.mY.Empty.displayName;let h=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.mY.Group,{ref:a,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s})});h.displayName=n.mY.Group.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.mY.Separator,{ref:a,className:(0,i.cn)("-mx-1 h-px bg-border",t),...s})}).displayName=n.mY.Separator.displayName;let y=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.mY.Item,{ref:a,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",t),...s})});y.displayName=n.mY.Item.displayName},12749:function(e,a,t){"use strict";t.d(a,{J2:function(){return i},xo:function(){return l},yk:function(){return d}});var r=t(57437),s=t(2265),n=t(85977),o=t(93448);let i=n.fC,l=n.xz,d=s.forwardRef((e,a)=>{let{className:t,align:s="center",sideOffset:i=4,...l}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsx)(n.VY,{ref:a,align:s,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})})});d.displayName=n.VY.displayName}},function(e){e.O(0,[358,139,569,438,2,89,675,947,971,117,744],function(){return e(e.s=77916)}),_N_E=e.O()}]);