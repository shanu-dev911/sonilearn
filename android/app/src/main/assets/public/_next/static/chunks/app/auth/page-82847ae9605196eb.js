(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{69338:function(e,s,t){Promise.resolve().then(t.bind(t,34020))},34020:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return E}});var r=t(57437),a=t(2265),n=t(81906),l=t(13812),i=t(21840),o=t(13590),c=t(29501),d=t(67119),u=t(12381),m=t(37053),f=t(93448),x=t(75060);let p=c.RV,h=a.createContext({}),g=e=>{let{...s}=e;return(0,r.jsx)(h.Provider,{value:{name:s.name},children:(0,r.jsx)(c.Qr,{...s})})},j=()=>{let e=a.useContext(h),s=a.useContext(v),{getFieldState:t,formState:r}=(0,c.Gc)(),n=t(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=s;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},v=a.createContext({}),b=a.forwardRef((e,s)=>{let{className:t,...n}=e,l=a.useId();return(0,r.jsx)(v.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:s,className:(0,f.cn)("relative",t),...n})})});b.displayName="FormItem",a.forwardRef((e,s)=>{let{className:t,...a}=e,{error:n,formItemId:l}=j();return(0,r.jsx)(x._,{ref:s,className:(0,f.cn)(n&&"text-destructive",t),htmlFor:l,...a})}).displayName="FormLabel";let y=a.forwardRef((e,s)=>{let{...t}=e,{error:a,formItemId:n,formDescriptionId:l,formMessageId:i}=j();return(0,r.jsx)(m.g7,{ref:s,id:n,"aria-describedby":a?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!a,...t})});y.displayName="FormControl",a.forwardRef((e,s)=>{let{className:t,...a}=e,{formDescriptionId:n}=j();return(0,r.jsx)("p",{ref:s,id:n,className:(0,f.cn)("text-sm text-muted-foreground",t),...a})}).displayName="FormDescription";let w=a.forwardRef((e,s)=>{let{className:t,children:a,...n}=e,{error:l,formMessageId:i}=j(),o=l?String(null==l?void 0:l.message):a;return o?(0,r.jsx)("p",{ref:s,id:i,className:(0,f.cn)("pt-1 text-xs font-medium text-destructive",t),...n,children:o}):null});w.displayName="FormMessage";var N=t(40279),I=t(14438),S=t(28145),C=t(99376),R=t(15001);let k=d.Ry({email:d.Z_().email({message:"Invalid email address."}),password:d.Z_().min(6,{message:"Password must be at least 6 characters."})});function F(e){let{isLogin:s,onFlip:t}=e,[n,l]=(0,a.useState)(!1),{signUp:d,login:m,googleSignIn:f,loading:x}=(0,S.a)(),h=(0,C.useRouter)(),j=(0,c.cI)({resolver:(0,o.F)(k),defaultValues:{email:"",password:""}});async function v(e){l(!0);try{s?(await m(e.email,e.password),I.Am.success("Login successful! Redirecting...")):(await d(e.email,e.password),I.Am.success("Sign up successful! Please set up your profile.")),h.push("/dashboard")}catch(t){console.error(t);let e="auth/invalid-credential"===t.code?"Invalid email or password. Please try again.":t.message||"An error occurred during ".concat(s?"login":"sign up",".");I.Am.error(e)}finally{l(!1)}}async function F(){l(!0);try{await f(),I.Am.success("Successfully signed in with Google! Redirecting..."),h.push("/dashboard")}catch(e){console.error(e),I.Am.error(e.message||"Google sign-in failed.")}finally{l(!1)}}return x?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,r.jsx)(R.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Initializing..."})]}):(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center mb-8 text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary tracking-tighter",children:"SoniLearn"}),(0,r.jsx)("h2",{className:"text-xl font-semibold tracking-tight text-foreground mt-4",children:s?"Welcome Back":"Create an Account"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:s?"Sign in to continue your journey.":"Join SoniLearn today."})]}),(0,r.jsx)(i.E.div,{whileHover:{y:-2,boxShadow:"0 8px 30px hsl(var(--primary) / 0.2)"},className:"mb-6 rounded-full",children:(0,r.jsxs)(u.z,{variant:"outline",className:"w-full rounded-full h-12 text-base",onClick:F,disabled:n,children:[(0,r.jsx)("svg",{className:"mr-3 h-5 w-5","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:(0,r.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.5 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 21.2 172.4 56.6l-66.2 64.2c-20-17.7-48.1-29.3-79.2-29.3-62.5 0-113.3 51.6-113.3 115.3s50.8 115.3 113.3 115.3c71.4 0 94.7-53.9 99.5-81.8H248v-85.3h236.1c2.3 12.7 3.9 26.9 3.9 42.4z"})}),"Continue with Google"]})}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t border-border/50"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),(0,r.jsx)(p,{...j,children:(0,r.jsxs)("form",{onSubmit:j.handleSubmit(v),className:"space-y-4",children:[(0,r.jsx)(g,{control:j.control,name:"email",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(y,{children:(0,r.jsx)(N.I,{placeholder:"Email",...s})}),(0,r.jsx)(w,{})]})}}),(0,r.jsx)(g,{control:j.control,name:"password",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(y,{children:(0,r.jsx)(N.I,{type:"password",placeholder:"Password",...s})}),(0,r.jsx)(w,{})]})}}),(0,r.jsx)(u.z,{type:"submit",className:"w-full rounded-full h-12 text-base font-bold",disabled:n,children:n?(0,r.jsx)(R.Z,{className:"animate-spin"}):s?"Sign In":"Create Account"})]})}),(0,r.jsxs)("p",{className:"mt-8 text-center text-sm text-muted-foreground",children:[s?"Don't have an account?":"Already have an account?",(0,r.jsx)(u.z,{variant:"link",onClick:t,className:"font-semibold text-primary",disabled:n,children:s?"Sign Up":"Sign In"})]})]})}function E(){let[e,s]=(0,a.useState)(!1),[t,o]=(0,a.useState)(!1),c=(0,a.useRef)(null),d=(0,n.c)(0),u=(0,n.c)(0),m=(0,l.H)(u,[-300,300],[10,-10]),f=(0,l.H)(d,[-300,300],[-10,10]);return(0,a.useEffect)(()=>{o(!0)},[]),(0,r.jsx)(i.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"flex items-center justify-center min-h-screen p-4 overflow-hidden",onMouseMove:e=>{if(!c.current)return;let{clientX:s,clientY:t}=e,{left:r,top:a,width:n,height:l}=c.current.getBoundingClientRect();d.set(s-(r+n/2)),u.set(t-(a+l/2))},onMouseLeave:()=>{d.set(0),u.set(0)},children:(0,r.jsx)(i.E.div,{ref:c,style:{transformStyle:"preserve-3d",rotateX:m,rotateY:f},className:"relative w-full max-w-md h-[650px]",children:(0,r.jsxs)("div",{className:"absolute w-full h-full",style:{perspective:"1200px",transformStyle:"preserve-3d"},children:[(0,r.jsx)(i.E.div,{className:"absolute w-full h-full glass rounded-3xl flex flex-col items-center justify-center p-6 md:p-8 [backface-visibility:hidden]",initial:!1,animate:{rotateY:t&&e?-180:0},transition:{duration:.8,ease:"easeInOut"},children:(0,r.jsx)(F,{isLogin:!0,onFlip:()=>s(!0)})}),(0,r.jsx)(i.E.div,{className:"absolute w-full h-full glass rounded-3xl flex flex-col items-center justify-center p-6 md:p-8 [backface-visibility:hidden]",initial:!1,animate:{rotateY:t&&e?0:180},transition:{duration:.8,ease:"easeInOut"},children:(0,r.jsx)(F,{isLogin:!1,onFlip:()=>s(!1)})})]})})})}},40279:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var r=t(57437),a=t(2265),n=t(93448);let l=a.forwardRef((e,s)=>{let{className:t,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-14 w-full rounded-full border border-input bg-input px-6 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},75060:function(e,s,t){"use strict";t.d(s,{_:function(){return c}});var r=t(57437),a=t(2265),n=t(370),l=t(90535),i=t(93448);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.f,{ref:s,className:(0,i.cn)(o(),t),...a})});c.displayName=n.f.displayName}},function(e){e.O(0,[358,139,569,438,2,596,947,971,117,744],function(){return e(e.s=69338)}),_N_E=e.O()}]);