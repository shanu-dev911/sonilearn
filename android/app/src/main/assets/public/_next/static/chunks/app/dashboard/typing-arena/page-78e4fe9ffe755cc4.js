(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{57775:function(e,t,r){Promise.resolve().then(r.bind(r,38863))},38863:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(57437),s=r(2265),a=r(79820),l=r(12381),i=r(47625),c=r(48508),d=r(56940),o=r(97059),u=r(62994),f=r(8147),h=r(22190),x=r(69349),m=r(48614),g=r(21840),p=r(82431),y=r(82222),j=r(14438);function v(){let[e]=(0,s.useState)("The quick brown fox jumps over the lazy dog. This sentence contains all the letters of the English alphabet. Regular practice is the only key to success in typing tests. Accuracy is more important than speed. Do not rush. Stay calm and focus on the text shown on the screen. Best of luck for your exam preparation journey."),[t,r]=(0,s.useState)(""),[v,b]=(0,s.useState)("waiting"),[N,w]=(0,s.useState)(0),[k,C]=(0,s.useState)(100),[S,T]=(0,s.useState)(0),A=(0,s.useRef)(null),R=(0,s.useRef)(null),E=(0,s.useRef)(null),[I,Z]=(0,s.useState)(null),[z,D]=(0,s.useState)(!1),M=()=>{var e;b("running"),r(""),T(0),w(0),C(100),R.current=Date.now(),Z(null),A.current=setInterval(()=>{if(R.current){let e=(Date.now()-R.current)/1e3/60;if(e>0){let r=Math.round(t.length/5/e);isNaN(r)||r===1/0||w(r)}}},2e3),null===(e=E.current)||void 0===e||e.focus()},O=(0,s.useCallback)(async(e,t)=>{D(!0);try{let r=await fetch("/api/typing-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wpm:e,accuracy:t})});if(!r.ok)throw Error("API request failed");let n=await r.json();Z(n)}catch(r){j.Am.error("AI analysis failed.",{action:{label:"Retry",onClick:()=>O(e,t)}})}finally{D(!1)}},[]),P=(0,s.useCallback)(()=>{if(b("finished"),A.current&&clearInterval(A.current),R.current){let e=(Date.now()-R.current)/1e3/60,r=t.length/5,n=e>0&&Math.round(r/e)||0;w(n);let s=t.length-S,a=t.length>0?Math.round(s/t.length*100)||0:100;C(a),O(n,a)}},[t,S,O]);(0,s.useEffect)(()=>{"running"===v&&t.length===e.length&&P()},[t,e,v,P]);let _=[{name:"Your Speed",wpm:N,fill:"hsl(var(--primary))"},{name:"Exam Requirement",wpm:35,fill:"#8884d8"}];return(0,n.jsxs)("div",{className:"mx-auto max-w-4xl w-full space-y-6",children:[(0,n.jsxs)(a.Zb,{className:"shadow-lg glass card-3d",children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"AI Typing Arena"}),(0,n.jsx)(a.SZ,{children:"Test your typing speed and accuracy for JSSC/SSC exams."})]}),(0,n.jsxs)(a.aY,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center mb-6",children:[(0,n.jsxs)("div",{className:"p-4 bg-primary/10 rounded-lg",children:[(0,n.jsx)("p",{className:"text-3xl font-bold",children:N}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"WPM"})]}),(0,n.jsxs)("div",{className:"p-4 bg-green-500/10 rounded-lg",children:[(0,n.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[k,"%"]}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Accuracy"})]}),(0,n.jsxs)("div",{className:"p-4 bg-red-500/10 rounded-lg",children:[(0,n.jsx)("p",{className:"text-3xl font-bold text-red-600",children:S}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]}),(0,n.jsx)("div",{className:"relative p-4 bg-background rounded-lg text-lg tracking-wider font-mono border cursor-text",onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.focus()},children:e.split("").map((e,r)=>{let s="text-muted-foreground/50";return r<t.length&&(s=e===t[r]?"text-green-500":"text-red-500 bg-red-500/20 rounded-sm"),(0,n.jsx)("span",{className:s,children:e},r)})}),(0,n.jsx)("input",{ref:E,type:"text",value:t,onChange:t=>{if("finished"===v)return;"waiting"===v&&M();let n=t.target.value,s=0;for(let t=0;t<n.length;t++)n[t]!==e[t]&&s++;T(s);let a=n.length-s;C(n.length>0&&Math.round(a/n.length*100)||100),r(n)},onFocus:"waiting"===v?M:void 0,className:"w-full h-0 p-0 m-0 border-0 opacity-0","aria-label":"Typing input",disabled:"finished"===v}),(0,n.jsxs)("div",{className:"mt-6 flex justify-center",children:["waiting"===v&&(0,n.jsx)(l.z,{onClick:M,className:"rounded-full",children:"Start Typing Test"}),"running"===v&&(0,n.jsx)(l.z,{variant:"destructive",onClick:P,className:"rounded-full",children:"End Test"}),"finished"===v&&(0,n.jsxs)(l.z,{variant:"outline",onClick:()=>{b("waiting"),r(""),T(0),w(0),C(100),A.current&&clearInterval(A.current),R.current=null,Z(null)},className:"rounded-full",children:[(0,n.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})]})]}),(0,n.jsx)(m.M,{children:"finished"===v&&(0,n.jsx)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,n.jsxs)(a.Zb,{className:"shadow-lg glass card-3d",children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Performance Analysis"}),(0,n.jsx)(a.SZ,{children:"Here's a comparison of your speed and AI-powered feedback."})]}),(0,n.jsxs)(a.aY,{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)("div",{className:"h-[300px]",children:(0,n.jsx)(i.h,{width:"100%",height:"100%",children:(0,n.jsxs)(c.v,{data:_,children:[(0,n.jsx)(d.q,{strokeDasharray:"3 3"}),(0,n.jsx)(o.K,{dataKey:"name"}),(0,n.jsx)(u.B,{}),(0,n.jsx)(f.u,{}),(0,n.jsx)(h.D,{}),(0,n.jsx)(x.$,{dataKey:"wpm",name:"Words Per Minute"})]})})}),(0,n.jsx)("div",{children:z?(0,n.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,n.jsx)(y.Z,{className:"h-8 w-8 text-primary animate-pulse"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"AI is analyzing your performance..."})]})}):I&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)(y.Z,{className:"h-6 w-6 text-primary flex-shrink-0 mt-1"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold",children:"AI Coach Feedback"}),(0,n.jsxs)("p",{className:"text-sm text-foreground/80 italic",children:['"',I.feedback,'"']})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h4",{className:"font-semibold",children:"Tips for Improvement:"}),(0,n.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:I.tips.map((e,t)=>(0,n.jsx)("li",{children:e},t))})]})]})})]})]})})}),"running"!==v&&"finished"!==v&&(0,n.jsx)("div",{className:"text-center p-4 rounded-lg bg-primary/5 text-muted-foreground",children:(0,n.jsx)("p",{children:'Click "Start Test" or click on the paragraph text to begin the typing test.'})})]})}},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var n=r(57437),s=r(2265),a=r(37053),l=r(90535),i=r(93448);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:d=!1,...o}=e,u=d?a.g7:"button";return(0,n.jsx)(u,{className:(0,i.cn)(c({variant:s,size:l,className:r})),ref:t,...o})});d.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var n=r(57437),s=r(2265),a=r(93448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(61994),s=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[569,438,39,971,117,744],function(){return e(e.s=57775)}),_N_E=e.O()}]);